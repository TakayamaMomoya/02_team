//*****************************************************
//
// ドアの処理[door.cpp]
// Author:髙山桃也
//
//*****************************************************

//*****************************************************
// インクルード
//*****************************************************
#include "door.h"

//*****************************************************
// 定数定義
//*****************************************************
namespace
{
	const char* BODY_PATH = "data\\MODEL\\gimmick\\door000.x";	// モデルのパス
}

//=====================================================
// コンストラクタ
//=====================================================
CDoor::CDoor(int nPriority) : CGimmick(nPriority)
{
	ZeroMemory(&m_info, sizeof(SInfo));
}

//=====================================================
// デストラクタ
//=====================================================
CDoor::~CDoor()
{

}

//=====================================================
// 生成処理
//=====================================================
CDoor *CDoor::Create(void)
{
	CDoor *pDoor = nullptr;

	if (pDoor == nullptr)
	{
		pDoor = new CDoor;

		if (pDoor != nullptr)
		{
			// 初期化
			pDoor->Init();
		}
	}

	return pDoor;
}

//=====================================================
// 初期化処理
//=====================================================
HRESULT CDoor::Init(void)
{
	// 継承クラスの初期化
	CGimmick::Init();

	// モデルの読込
	int nIdx = CModel::Load((char*)BODY_PATH);
	SetIdxModel(nIdx);
	BindModel(nIdx);

	return S_OK;
}

//=====================================================
// 終了処理
//=====================================================
void CDoor::Uninit(void)
{
	// 継承クラスの終了
	CGimmick::Uninit();
}

//=====================================================
// 更新処理
//=====================================================
void CDoor::Update(void)
{
	// 継承クラスの更新
	CGimmick::Update();
}

//=====================================================
// 描画処理
//=====================================================
void CDoor::Draw(void)
{
	// 継承クラスの描画
	CGimmick::Draw();
}